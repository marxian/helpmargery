<%

var days = moment.weekdaysShort();
var hours = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24];

var currentWeek = moment().weekday(0);
var currentMonth = moment().format('MMMM');



//var months = moment().months();
//var years = range(moment().subtract('5', 'years'), moment().add('5', 'years'));

%>

<div class="date-controls">
	<table>
		<td>
		<tr><button class="week-prev">&lt;</button></tr>
		<tr><button class="week-next">&gt;</button></tr>
		<tr><span><%= currentWeek.format('DD') %> &mdash; <%= currentWeek.add('7', 'days').format('DD') %> <%= currentMonth %></span></tr>
		</td>
	</table>
</div>

<div id="calendar">
	<div class="th">
		<span class="time">&nbsp;</span>
		<% _.each(days, function( day ) { %>
			<span class="<%= day.toLowerCase() %>" data-day="<%= day.toLowerCase() %>"><%= day.toLowerCase() %></span>
		<% }); %>
	</div>

	<div id="weeks">

		<% _.each(hours, function( hour ) { %>
			<div class="hour">
				<div class="time" data-date="<%= hour %>"><%= moment.duration(hour, 'hour').format('h:mm') %></div>
				<% _.each(days, function( day ) { %>
					<div class="<%= day %>" data-day="<%= day %>">
						<a href="javascript:;" role="button" data-goto="book"></a>
						<!-- <span role="button" class="booked"></span> -->
					</div>
				<% }); %>
			</div>
		<% }); %>

	</div>
</div>